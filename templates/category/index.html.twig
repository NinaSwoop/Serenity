{% extends 'baseCategory.html.twig' %}

{% block title %}Dashboard
{% endblock %}

{% block body %}
	{% if is_granted('IS_AUTHENTICATED_FULLY') %}
		<section class="d-flex profil-dash m-3 mx-4">
			<button type="button" class="btn" data-bs-toggle="modal" data-bs-target="#profilePicture">
				<div class="undefined-patient">
					{% if app.user.picture is not null %}
						{% if app.user.isUploadedPicture != true %}
							<img class="picture-patient" src="{{asset('build/images/' ~ app.user.picture)}}">
						{% else %}
							<img class="picture-patient" src="{{ vich_uploader_asset(app.user) }}" alt="{{ app.user.firstname }}">
						{% endif %}
					{% endif %}
				</div>
			</button>
			<div class="modal" id="profilePicture" tabindex="-1">
				<div class="modal-dialog">
					<div class="modal-content">
						<div class="modal-header">
							<h5 class="modal-title text-center w-100 fw-bold">Ma photo de profil</h5>
							<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
						</div>
						<div class="modal-body">
							<div class="w-100">
								{% if app.user.picture is not null %}
									{% if app.user.isUploadedPicture != true %}
										<img class="w-100" src="{{asset('build/images/' ~ app.user.picture)}}">
									{% else %}
										<img class="w-100" src="{{ vich_uploader_asset(app.user) }}" alt="{{ app.user.firstname }}">
									{% endif %}
								{% endif %}
							</div>
							<div></div>
						</div>
						<div class="modal-footer">
							{% include "components/upload_profile_picture.html.twig" %}
							{# <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
																					<button type="button" class="btn btn-primary">Modifier ma photo</button> #}
						</div>
					</div>
				</div>
			</div>

			<div class="d-flex flex-column ms-3 w-100">
				<div class=" my-2 fs-3 fw-bold">
					{{app.user.firstname}}
				</div>

				<div class="progress globalProgressBar progress-index w-100">
					<div class="progress-bar rounded-5-start progbar-70 progressbar-index w-100" role="progressbar" aria-label="Example with label" aria-valuenow="4" aria-valuemin="0" aria-valuemax="100">
						<div class="progress-title p-2 w-100">
							Pr√©paration pour ma chirurgie
							<span class="progress-level align-self-center ms-auto ps-4">70%</span>
						</div>
					</div>
				</div>
			</div>
		</section>
	{% endif %}

	<div class="d-flex justify-content-end m-3 mx-4">


		<table>
			<thead class="thead-rdv">
				<tr>
					<th class="px-3">DATE</th>

					<th>HEURE</th>
				</tr>
			</thead>
			<tbody class="tbody-rdv">
				<tr>
					<td class="px-3">{{ "now"|date("d/m/Y") }}</td>

					<td>{{ "now-1"|date("H:i") }}</td>
				</tr>
			</tbody>
		</table>
	</div>
	{% include "/components/_progressbar_category1.html.twig" %}
	{% include "/components/_progressbar_category2.html.twig" %}
	{% include "/components/_progressbar_category3.html.twig" %}
	{% include "/components/_progressbar_category4.html.twig" %}
	{% include "/components/_progressbar_category5.html.twig" %}
{% endblock %}
